(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23c99662"],{"281c":function(t,e,i){"use strict";function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e?1e3:1024;if(!1===Boolean(t))return"--";if(Math.abs(t)<i)return"".concat(t," B");var n=e?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],s=-1,a=t;do{a/=i,s+=1}while(Math.abs(a)>=i&&s<n.length-1);return"".concat(a.toFixed(1)," ").concat(n[s])}i.d(e,"a",function(){return n})},"7d3a":function(t,e,i){"use strict";var n=i("c9f3"),s=i.n(n);s.a},"8db2":function(t,e){t.exports={props:{id:{type:String,required:!0},name:{type:String,required:!0},value:{type:null,default:null},type:{type:String,required:!0},length:{type:[String,Number],default:null},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},options:{type:Object,default:()=>({})},newItem:{type:Boolean,default:!1},relation:{type:Object,default:null},fields:{type:Object,default:null},values:{type:Object,default:null}}}},c9f3:function(t,e,i){},dea2:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"input-single-file"},[t.value?i("v-card",{staticClass:"card",attrs:{title:t.value.title,subtitle:t.subtitle+t.subtitleExtra,src:t.src,icon:t.icon,href:t.href,options:{remove:{text:t.$t("delete"),icon:"delete"}}},on:{remove:function(e){return t.$emit("input",null)}}}):i("v-upload",{staticClass:"dropzone",attrs:{small:"",disabled:t.readonly,accept:t.options.accept,multiple:!1},on:{upload:t.saveUpload}}),i("v-button",{attrs:{type:"button",disabled:t.readonly},on:{click:function(e){t.newFile=!0}}},[i("v-icon",{attrs:{name:"add"}}),t._v("\n    "+t._s(t.$t("new_file"))+"\n  ")],1),i("v-button",{attrs:{type:"button",disabled:t.readonly},on:{click:function(e){t.existing=!0}}},[i("v-icon",{attrs:{name:"playlist_add"}}),t._v("\n    "+t._s(t.$t("existing"))+"\n  ")],1),t.newFile?i("portal",{attrs:{to:"modal"}},[i("v-modal",{attrs:{title:t.$t("file_upload"),buttons:{done:{text:t.$t("done")}}},on:{close:function(e){t.newFile=!1}}},[i("div",{staticClass:"body"},[i("v-upload",{attrs:{accept:t.options.accept,multiple:!1},on:{upload:t.saveUpload}})],1)])],1):t._e(),t.existing?i("portal",{attrs:{to:"modal"}},[i("v-modal",{attrs:{title:t.$t("choose_one"),buttons:{done:{text:t.$t("done")}},"action-required":""},on:{close:function(e){t.existing=!1},done:function(e){t.existing=!1}}},[i("div",{staticClass:"search"},[i("v-input",{staticClass:"search-input",attrs:{type:"search",placeholder:t.$t("search")},on:{input:t.onSearchInput}})],1),i("v-items",{staticClass:"items",attrs:{collection:"directus_files","view-type":t.viewType,selection:t.value?[t.value]:[],filters:t.filters,"view-query":t.viewQuery,"view-options":t.viewOptions},on:{options:t.setViewOptions,query:t.setViewQuery,select:function(e){return t.$emit("input",e[e.length-1])}}})],1)],1):t._e()],1)},s=[],a=i("75fc"),r=i("cebc"),o=(i("f559"),i("28a5"),i("8db2")),l=i.n(o),u=i("281c"),c=i("fe76"),p={mixins:[l.a],data:function(){return{newFile:!1,existing:!1,viewOptionsOverride:{},viewTypeOverride:null,viewQueryOverride:{},filtersOverride:[]}},computed:{subtitle:function(){return this.value?this.value.filename.split(".").pop()+" • "+this.$d(new Date(this.value.uploaded_on),"short"):""},subtitleExtra:function(){return this.value.type&&this.value.type.startsWith("image")?" • "+this.value.width+" x "+this.value.height+" ("+Object(u["a"])(this.value.filesize)+")":null},src:function(){return this.value.type&&this.value.type.startsWith("image")?this.value.data.full_url:null},icon:function(){return this.value.type&&!this.value.type.startsWith("image")?Object(c["a"])(this.value.type):null},href:function(){return this.value.type&&"application/pdf"===this.value.type?this.value.data.full_url:null},viewOptions:function(){var t=this.options.viewOptions;return Object(r["a"])({},t,this.viewOptionsOverride)},viewType:function(){return this.viewTypeOverride?this.viewTypeOverride:this.options.viewType},viewQuery:function(){var t=this.options.viewQuery;return Object(r["a"])({},t,this.viewQueryOverride)},filters:function(){return[].concat(Object(a["a"])(this.options.filters),Object(a["a"])(this.fileTypeFilters),Object(a["a"])(this.filtersOverride))},fileTypeFilters:function(){return!this.options.accept||this.filtersOverride.length>0||this.options.filters.some(function(t){return"type"===t.field})?[]:[{field:"type",operator:"in",value:this.options.accept.trim().split(/,\s*/)}]}},methods:{saveUpload:function(t){this.$emit("input",t.data),this.newFile=!1},setViewOptions:function(t){this.viewOptionsOverride=Object(r["a"])({},this.viewOptionsOverride,t)},setViewQuery:function(t){this.viewQueryOverride=Object(r["a"])({},this.viewQueryOverride,t)},onSearchInput:function(t){this.setViewQuery({q:t})}},created:function(){this.onSearchInput=this.$lodash.debounce(this.onSearchInput,200)}},d=p,v=(i("7d3a"),i("2877")),f=Object(v["a"])(d,n,s,!1,null,"11d21871",null);e["default"]=f.exports},fe76:function(t,e,i){"use strict";i.d(e,"a",function(){return n});i("f559");function n(t){return"application/pdf"===t?"picture_as_pdf":t.startsWith("application")?"insert_drive_file":t.startsWith("image")?"crop_original":t.startsWith("video")?"videocam":t.startsWith("code")?"code":t.startsWith("audio")?"audiotrack":"save"}}}]);
//# sourceMappingURL=chunk-23c99662.c75e412d.js.map